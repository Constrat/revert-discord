/**
 * @name revert-discord
 * @description Revert your discord theme to April 2025.
 * @author Constrat
 * @version 1.0.0
 * @website https://github.com/constrat/revert-discord
 * @source https://github.com/constrat/revert-discord/blob/main/revert.css
*/

/* ### Revert theme ### */

:root {
  /* Base sizing variables */
  --guildbar-avatar-size: 48px;
  --blob-scale: 48;
  --guildbar-folder-size: var(--guildbar-avatar-size);
  --folder-blob-scale: var(--blob-scale);
  --custom-guild-list-padding: 12px;
  --custom-guild-list-width: calc(max(var(--guildbar-avatar-size), var(--guildbar-folder-size)) + var(--custom-guild-list-padding) * 2);
  --custom-app-top-bar-height: 23px;
}

/* Server list styling revert */
nav[class*="5e434347c823b592-guilds"] {

  /* #svg-mask-squircle */
  defs>path {
    d: path("M0 0.464C0 0.301585 0 0.220377 0.0316081 0.158343C0.0594114 0.103776 0.103776 0.0594114 0.158343 0.0316081C0.220377 0 0.301585 0 0.464 0H0.536C0.698415 0 0.779623 0 0.841657 0.0316081C0.896224 0.0594114 0.940589 0.103776 0.968392 0.158343C1 0.220377 1 0.301585 1 0.464V0.536C1 0.698415 1 0.779623 0.968392 0.841657C0.940589 0.896224 0.896224 0.940589 0.841657 0.968392C0.779623 1 0.698415 1 0.536 1H0.464C0.301585 1 0.220377 1 0.158343 0.968392C0.103776 0.940589 0.0594114 0.896224 0.0316081 0.841657C0 0.779623 0 0.698415 0 0.536V0.464Z");
  }

  /* Guild sizing */
  [class*="e5445cbd3ad226f2-blobContainer"],
  [class*="_918165dab2b1e10b-listItemWrapper"],
  [class*="cc5dd25190031396-wrapper"]:not([class*="_650eb104245d257b-listItem"] > [class*="wrapper"]),
  foreignObject {
    width: var(--guildbar-avatar-size) !important;
    height: var(--guildbar-avatar-size) !important;
  }

  /* Guild drag & drop */
  [class*="dragInner"] {
    width: 40px;
    height: 40px;
  }

  [class*="dragOver"] {
    top: calc(var(--guildbar-avatar-size) / 2 + 8px)
  }

  /* Guild icon sizing */
  [class*="childWrapper"]>svg {
    width: calc(var(--guildbar-avatar-size) - 18px);
    height: calc(var(--guildbar-avatar-size) - 18px);
  }

  /* Border radius transitions */
  [class*="childWrapper"],
  [class*="childWrapper"] img,
  [class*="icon"],
  [class*="circleIconButton"] {
    border-radius: 50% !important;
    transition: border-radius 150ms linear;
  }

  /* Selected state */
  [class*="selected"] {

    [class*="childWrapper"],
    [class*="childWrapper"] img,
    [class*="icon"],
    &[class*="circleIconButton"] {
      border-radius: 27% !important;
    }
  }

  /* SVG positioning */
  [class*="shiftSVG"] {
    top: 0;
    left: 0;

    foreignObject {
      transform: translate(-4px, -4px);
    }
  }

  /* Badge positioning */
  mask {
    --badge-offset: calc(var(--guildbar-avatar-size) - 40px);

    &:not([class*="folderHeader__"] mask) {
      use[href$="-lower_badge_masks"] {
        translate: var(--badge-offset) var(--badge-offset);
      }

      use[href$="-upper_badge_masks"] {
        translate: var(--badge-offset);
      }
    }

    use[href$="-blob_mask"] {
      scale: var(--blob-scale);
    }
  }

  [class*="folderButton"] {
    overflow: visible;
  }

  [class*="folderIcon"] {
    background-color: var(--bg-mod-subtle);

    svg {
      width: 24px !important;
      height: 24px !important;
    }
  }

  #guild-list-unread-dms>div {
    height: var(--guildbar-avatar-size) !important;
  }
}

/* Expanded folder styling */
[class*="isExpanded"] {
  [class*="stack"] {
    height: auto !important;
  }
}

/* Hide Help button and DM divider */
.e6b7699ce8339e1c-sectionDivider,
.c38106a3f0c3ca76-trailing>a {
  display: none !important;
}

/* Channel header container */
._99e7cad8d4c55236-privateChannelsHeaderContainer {
  margin-top: 6px;
}

/* Message styling */
._1b31f471f0bb10ab-editor,
[class*="messageContent"],
[class*="message-content"] {
  color: white !important;
}

/* Top bar styling */
.edbb22df99c39831-title {
  display: none;
}

.c38106a3f0c3ca76-bar {
  padding: 0 12px 0 !important;
  height: 65px;
  margin-top: -33px;
}

.c38106a3f0c3ca76-bar .c38106a3f0c3ca76-title {
  text-align: start;
  display: block;
  position: absolute;
  margin-bottom: 30px;
  background-repeat: no-repeat;
  transform: translateY(40px) translateX(12px) scale(1.01);
  width: 52px;

  .text-sm\/medium,
  svg,
  .guildIcon {
    display: none;
  }
}

.c0bea05627c5dc35-inner {
  z-index: 103;
}

/* Top bar trailing elements */
.c38106a3f0c3ca76-bar .c38106a3f0c3ca76-trailing {
  top: 51px;
  gap: 8px;
  z-index: 102;

  ._9293f6b2fc12398a-iconWrapper {
    width: 30px;
    height: 30px;
    border-radius: 4px;

    ._9293f6b2fc12398a-icon {
      width: 24px;
      height: 24px;
    }
  }
}

/* Window buttons - default state */
.c38106a3f0c3ca76-winButtons {
  position: absolute !important;
  gap: unset !important;
  bottom: 39px !important;
  left: -48px !important;
  z-index: 3001 !important;
  -webkit-app-region: no-drag !important;
}

/* Special handling when in settings */
div[class*="c38106a3f0c3ca76-show"] .c38106a3f0c3ca76-winButtons {
  bottom: 27px !important;
  left: -72px !important;
}

.c38106a3f0c3ca76-winButtons .c38106a3f0c3ca76-winButton {
  align-items: center !important;
  width: 28px !important;
  height: 24px !important;
}

.c38106a3f0c3ca76-winButtonsWithDivider:before {
  border: unset;
}

._63abbca6d53b6035-backForwardButtons {
  display: none;
}

/* Toolbar spacing */
._9293f6b2fc12398a-toolbar {
  padding-right: 45px;
}

/* Server tab emoji move down */
._4106ae7c1472c1de-wrapper.c0e32c5cffed3d9f-categoryList {
  position: absolute;
  top: 56px;
}

/* ### Other stuff, comment to disable ### */

/* Hide various elements */

/* This removes the app launcher button in the chat bar */
.channelAppLauncher_e6e74f,
.e6e74fd4d1221f53-buttonContainer,
.app-launcher-entrypoint {
  display: none;
}

/* This removes the "Nitro send a gift" button in the chat */
._740174f3d6a2c8fe-button._24af7f4d0326ba4f-button[aria-label="Send a gift"] {
  display: none;
}

/* Remove rounded corners for media elements */
[class*="embedImage"],
[class*="embedVideo"],
[class*="embedMedia"],
[class*="visualMediaItemContainer"],
[class*="oneByOneGrid"],
[class*="imageWrapper"],
[class*="mosaicItem"],
[class*="video"],
[class*="loadingOverlay"],
[class*="embed"]:not([class*="embedImage"]),
[class*="embed"]:not([class*="embedVideo"]),
[class*="embed"]:not([class*="embedThumbnail"]),
[class*="embed"]:not([class*="embedMedia"]) {
  border-radius: 0 !important;
}

/* Force "Today at" timestamp */
/* Doesn't work */
/* span[class*="timestampInline"]>[aria-label^="Today at"]::before {
  content: "Today at ";
} */

/* Top Emojis in server */
.c656aca9a3db31a9-categorySection.c656aca9a3db31a9-categorySectionCollapsed {
  display: none;
}

/* Remove discord checkpoint (discord wrapped?)*/
div._85643a485899904b-button._85643a485899904b-smallButton._9293f6b2fc12398a-iconWrapper._9293f6b2fc12398a-clickable {
    display: none;
}